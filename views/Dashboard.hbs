<!-- ============================================================== -->
<!-- Topbar header - style you can find in pages.scss -->
<!-- ============================================================== -->
{{> header}}
<!-- ============================================================== -->
<!-- End Topbar header -->
<!-- ============================================================== -->
<!-- ============================================================== -->
<!-- Left Sidebar - style you can find in sidebar.scss  -->
<!-- ============================================================== -->
{{> slidebar}}
<div class="page-wrapper">
    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="page-breadcrumb">
        <div class="row">
            <div class="col-5 align-self-center">
                <h4 class="page-title">Dashboard</h4>
            </div>
            <div class="col-7 align-self-center">
                <div class="d-flex align-items-center justify-content-end">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item">
                                <a href="#">Home</a>
                            </li>
                            <li class="breadcrumb-item active" aria-current="page">
                                Dashboard
                            </li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- End Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Container fluid  -->
    <!-- ============================================================== -->
    <div class="container-fluid">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-sm-6">
                        <h2><b>Manage Sneaker</b></h2>
                    </div>
                    <div class="col-sm-6">
                        <a href="#addEmployeeModal" class="btn btn-success" data-toggle="modal"><i
                                class="material-icons">&#xE147;</i>
                            <span>Add New Sneaker</span></a>

                    </div>
                </div>
            </div>
            <table id="table" class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th></th>
                        <th>Name Product</th>
                        <th>Size</th>
                        <th>Price</th>
                        <th>Material</th>
                        <th>Color</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each sneakerList}}
                    <tr>
                        <td style="text-align:center">
                            <image src="http://localhost:3000/{{image}}" style="width: 130px;height:100px" />
                        </td>
                        <td>
                            <p class=" data">{{nameSneaker}}</p>
                        </td>
                        <td>
                            <p class=" data">{{size}}</p>
                        </td>
                        <td>
                            <p class=" data">{{price}} VND</p>
                        </td>
                        <td>
                            <p class=" data">{{material}}</p>
                        </td>
                        <td>
                            <p class=" data">{{color}}</p>
                        </td>
                        <td>
                            <a href="/Edit/{{_id}}" class="edit"><i class="material-icons" title="Edit">&#xE254;</i></a>
                            {{!-- <a href="#deleteEmployeeModal" class="delete" data-toggle="modal"><i class="material-icons"
                                    title="Delete">&#xE872;</i></a> --}}
                            <a href="#deleteEmployeeModal" class="delete" data-toggle="modal" data-id="{{_id}}"><i
                                    class="material-icons" title="Delete">&#xE872;</i></a>
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
    <!-- Add Modal HTML -->
    <div id="addEmployeeModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <form action="/upload" method="POST" enctype="multipart/form-data" autocomplete="off">
                    <div class="modal-header">
                        <h4 class="modal-title">Add Sneaker</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="bmd-label-floating">Name</label>
                            <input type=" text" name="nameSneaker" class="form-control" required />
                        </div>
                        <div class="form-group">
                            <label class="mr-sm-2 bmd-label-floating" for="inlineFormCustomSelect">Size</label>
                            <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="size">
                                <option selected>Choose size...</option>
                                <option value="34">34</option>
                                <option value="35">35</option>
                                <option value="36">36</option>
                                <option value="37">37</option>
                                <option value="38">38</option>
                                <option value="39">39</option>
                                <option value="40">40</option>
                                <option value="41">41</option>
                                <option value="42">42</option>
                                <option value="43">43</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="mr-sm-2 bmd-label-floating" for="inlineFormCustomSelect">Material</label>
                            <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="material">
                                <option selected>Choose material...</option>
                                <option value="Canvas">Canvas</option>
                                <option value="Synthetic">Synthetic</option>
                                <option value="Suede/Textile">Suede/Textile</option>
                                <option value="Leather/Textile">Leather/Textile</option>
                                <option value="Rubber">Rubber</option>
                                <option value="Foam">Foam</option>
                                <option value="Block heel">Block heel</option>
                                <option value="Ballet flats">Ballet flats</option>

                            </select>
                        </div>
                        <div class="form-group">
                            <label class="mr-sm-2 bmd-label-floating" for="inlineFormCustomSelect">Color</label>
                            <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="color">
                                <option selected>Choose color...</option>
                                <option value="Faded Spruce/Black/White">Faded Spruce/Black/White</option>
                                <option value="Rapid Teal/White">Rapid Teal/White</option>
                                <option value="Wolf Grey/Rapid Teal/White">Wolf Grey/Rapid Teal/White</option>
                                <option value="Khaki/Black/White">Khaki/Black/White</option>
                                <option value="Candied Ginger/White/Black">Candied Ginger/White/Black</option>
                                <option value="Obsidian/Amarillo/White">Obsidian/Amarillo/White</option>
                                <option value="Photon/Dust/Egret/Black">Photon/Dust/Egret/Black</option>
                                <option value="University/Red/Black">University/Red/Black</option>
                                <option value="Pure Platinum/Black">Pure Platinum/Black</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="bmd-label-floating">Price</label>
                            <div class="input-group">
                                <input type="number" class="form-control" name="price" required>
                                <div class="input-group-append">
                                    <span class="input-group-text">VND</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="bmd-label-floating">Image</label>
                            <input type="file" name="image" class="form-control" width="100%" required />
                        </div>
                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel" />
                        <input type="submit" class="btn btn-success" value="Add" />
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Delete Modal HTML -->
    <div id="deleteEmployeeModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <form action="" id="deleteForm">
                    <div class="modal-header">
                        <h4 class="modal-title">Delete Product</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete these Records?</p>
                        <p class="text-warning">
                            <small>This action cannot be undone.</small>
                        </p>
                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel" />
                        <input type="submit" class="btn btn-danger" value="Delete">
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- End Container fluid  -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    {{> footer}}
</div>
<script>
    document.querySelectorAll('.delete').forEach(item => {
        item.addEventListener('click', e => {
            let _idDelete = e.target.parentNode.dataset.id;
            let trParent = e.target.parentNode.parentNode.parentNode;
            $("#deleteForm").attr("action", "/Delete/" + _idDelete);
        })
    });
</script>